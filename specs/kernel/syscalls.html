<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>System calls - NightOS documentation</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Design and specification documents for NightOS">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../../favicon.svg">
        
        
        <link rel="shortcut icon" href="../../favicon.png">
        
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        
        <link rel="stylesheet" href="../../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../FOREWORD.html"><strong aria-hidden="true">1.</strong> Foreword</a></li><li class="chapter-item expanded "><a href="../../FAQ.html"><strong aria-hidden="true">2.</strong> Frequently-asked questions</a></li><li class="chapter-item expanded "><a href="../../project/index.html"><strong aria-hidden="true">3.</strong> Project</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../project/roadmap.html"><strong aria-hidden="true">3.1.</strong> Roadmap</a></li><li class="chapter-item expanded "><a href="../../project/development.html"><strong aria-hidden="true">3.2.</strong> Development</a></li><li class="chapter-item expanded "><a href="../../project/hw-requirements.html"><strong aria-hidden="true">3.3.</strong> Hardware requirements</a></li></ol></li><li class="chapter-item expanded "><a href="../../concepts/index.html"><strong aria-hidden="true">4.</strong> Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../concepts/applications.html"><strong aria-hidden="true">4.1.</strong> What are applications?</a></li><li class="chapter-item expanded "><a href="../../concepts/libraries.html"><strong aria-hidden="true">4.2.</strong> What are libraries?</a></li><li class="chapter-item expanded "><a href="../../concepts/users.html"><strong aria-hidden="true">4.3.</strong> What are users?</a></li></ol></li><li class="chapter-item expanded "><a href="../../features/index.html"><strong aria-hidden="true">5.</strong> Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../features/balancer.html"><strong aria-hidden="true">5.1.</strong> The balancer</a></li><li class="chapter-item expanded "><a href="../../features/crash-saves.html"><strong aria-hidden="true">5.2.</strong> Crash saves</a></li><li class="chapter-item expanded "><a href="../../features/domains.html"><strong aria-hidden="true">5.3.</strong> Domains</a></li><li class="chapter-item expanded "><a href="../../features/encryption.html"><strong aria-hidden="true">5.4.</strong> Encryption</a></li><li class="chapter-item expanded "><a href="../../features/freeze-prevention.html"><strong aria-hidden="true">5.5.</strong> Freeze-prevention system</a></li><li class="chapter-item expanded "><a href="../../features/parental-control.html"><strong aria-hidden="true">5.6.</strong> Parental control</a></li><li class="chapter-item expanded "><a href="../../features/sandboxes.html"><strong aria-hidden="true">5.7.</strong> Sandboxes</a></li><li class="chapter-item expanded "><a href="../../features/synchronization.html"><strong aria-hidden="true">5.8.</strong> Synchronization</a></li></ol></li><li class="chapter-item expanded "><a href="../../technical/index.html"><strong aria-hidden="true">6.</strong> Technical</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../technical/overview.html"><strong aria-hidden="true">6.1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="../../technical/controller.html"><strong aria-hidden="true">6.2.</strong> The controller</a></li><li class="chapter-item expanded "><a href="../../technical/dev-mode.html"><strong aria-hidden="true">6.3.</strong> Developer mode</a></li><li class="chapter-item expanded "><a href="../../technical/devices.html"><strong aria-hidden="true">6.4.</strong> Devices</a></li><li class="chapter-item expanded "><a href="../../technical/file-formats.html"><strong aria-hidden="true">6.5.</strong> File formats</a></li><li class="chapter-item expanded "><a href="../../technical/integrity-checker.html"><strong aria-hidden="true">6.6.</strong> Integrity checker</a></li><li class="chapter-item expanded "><a href="../../technical/io-manager.html"><strong aria-hidden="true">6.7.</strong> I/O manager</a></li><li class="chapter-item expanded "><a href="../../technical/multi-platform.html"><strong aria-hidden="true">6.8.</strong> Multi-platform management</a></li><li class="chapter-item expanded "><a href="../../technical/performances.html"><strong aria-hidden="true">6.9.</strong> Performances</a></li><li class="chapter-item expanded "><a href="../../technical/pre-compiling.html"><strong aria-hidden="true">6.10.</strong> Pre-compiling applications</a></li><li class="chapter-item expanded "><a href="../../technical/processes.html"><strong aria-hidden="true">6.11.</strong> Processes</a></li><li class="chapter-item expanded "><a href="../../technical/registry.html"><strong aria-hidden="true">6.12.</strong> The registry</a></li><li class="chapter-item expanded "><a href="../../technical/services.html"><strong aria-hidden="true">6.13.</strong> Services</a></li><li class="chapter-item expanded "><a href="../../technical/shell.html"><strong aria-hidden="true">6.14.</strong> The shell</a></li></ol></li><li class="chapter-item expanded "><a href="../../ux/index.html"><strong aria-hidden="true">7.</strong> User Experience</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../ux/desktop-environment.html"><strong aria-hidden="true">7.1.</strong> Desktop environments</a></li><li class="chapter-item expanded "><a href="../../ux/notifications.html"><strong aria-hidden="true">7.2.</strong> Notifications</a></li><li class="chapter-item expanded "><a href="../../ux/sound.html"><strong aria-hidden="true">7.3.</strong> Sound</a></li></ol></li><li class="chapter-item expanded "><a href="../../specs/index.html"><strong aria-hidden="true">8.</strong> Specifications</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../specs/applications/context.html"><strong aria-hidden="true">8.1.</strong> Application context</a></li><li class="chapter-item expanded "><a href="../../specs/applications/package.html"><strong aria-hidden="true">8.2.</strong> Applications package</a></li><li class="chapter-item expanded "><a href="../../specs/applications/manifest.html"><strong aria-hidden="true">8.3.</strong> Applications manifest</a></li><li class="chapter-item expanded "><a href="../../specs/filesystem.html"><strong aria-hidden="true">8.4.</strong> Filesystem</a></li><li class="chapter-item expanded "><a href="../../specs/libraries.html"><strong aria-hidden="true">8.5.</strong> Libraries</a></li><li class="chapter-item expanded "><a href="../../specs/registry.html"><strong aria-hidden="true">8.6.</strong> The registry</a></li><li class="chapter-item expanded "><a href="../../specs/vocabulary.html"><strong aria-hidden="true">8.7.</strong> Vocabulary</a></li><li class="chapter-item expanded "><a href="../../specs/shell.html"><strong aria-hidden="true">8.8.</strong> The shell</a></li><li class="chapter-item expanded "><a href="../../specs/shell-scripting.html"><strong aria-hidden="true">8.9.</strong> Shell scripting</a></li><li class="chapter-item expanded "><a href="../../specs/services.html"><strong aria-hidden="true">8.10.</strong> Services</a></li><li class="chapter-item expanded "><a href="../../specs/kernel/index.html"><strong aria-hidden="true">8.11.</strong> Kernel</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../specs/kernel/hardware.html"><strong aria-hidden="true">8.11.1.</strong> Hardware</a></li><li class="chapter-item expanded "><a href="../../specs/kernel/memory.html"><strong aria-hidden="true">8.11.2.</strong> Memory</a></li><li class="chapter-item expanded "><a href="../../specs/kernel/processes.html"><strong aria-hidden="true">8.11.3.</strong> Processes</a></li><li class="chapter-item expanded "><a href="../../specs/kernel/scheduling.html"><strong aria-hidden="true">8.11.4.</strong> Scheduling</a></li><li class="chapter-item expanded "><a href="../../specs/kernel/data-structures.html"><strong aria-hidden="true">8.11.5.</strong> Data structures</a></li><li class="chapter-item expanded "><a href="../../specs/kernel/kpc.html"><strong aria-hidden="true">8.11.6.</strong> Kernel-process communication</a></li><li class="chapter-item expanded "><a href="../../specs/kernel/ipc.html"><strong aria-hidden="true">8.11.7.</strong> Inter-process communication</a></li><li class="chapter-item expanded "><a href="../../specs/kernel/signals.html"><strong aria-hidden="true">8.11.8.</strong> Signals</a></li><li class="chapter-item expanded "><a href="../../specs/kernel/syscalls.html" class="active"><strong aria-hidden="true">8.11.9.</strong> System calls</a></li></ol></li><li class="chapter-item expanded "><a href="../../specs/integration-services/index.html"><strong aria-hidden="true">8.12.</strong> Integration services</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../specs/integration-services/desktop-environments.html"><strong aria-hidden="true">8.12.1.</strong> Desktop environments</a></li><li class="chapter-item expanded "><a href="../../specs/integration-services/file-managers.html"><strong aria-hidden="true">8.12.2.</strong> File managers</a></li><li class="chapter-item expanded "><a href="../../specs/integration-services/file-openers.html"><strong aria-hidden="true">8.12.3.</strong> File openers</a></li></ol></li><li class="chapter-item expanded "><a href="../../specs/system-services/index.html"><strong aria-hidden="true">8.13.</strong> System services</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../specs/system-services/fs.html"><strong aria-hidden="true">8.13.1.</strong> sys::fs</a></li><li class="chapter-item expanded "><a href="../../specs/system-services/fsh.html"><strong aria-hidden="true">8.13.2.</strong> sys::fsh</a></li><li class="chapter-item expanded "><a href="../../specs/system-services/hw.html"><strong aria-hidden="true">8.13.3.</strong> sys::hw</a></li><li class="chapter-item expanded "><a href="../../specs/system-services/perm.html"><strong aria-hidden="true">8.13.4.</strong> sys::perm</a></li><li class="chapter-item expanded "><a href="../../specs/system-services/net.html"><strong aria-hidden="true">8.13.5.</strong> sys::net</a></li><li class="chapter-item expanded "><a href="../../specs/system-services/crypto.html"><strong aria-hidden="true">8.13.6.</strong> sys::crypto</a></li><li class="chapter-item expanded "><a href="../../specs/system-services/crashsave.html"><strong aria-hidden="true">8.13.7.</strong> sys::crashsave</a></li><li class="chapter-item expanded "><a href="../../specs/system-services/flow.html"><strong aria-hidden="true">8.13.8.</strong> sys::flow</a></li><li class="chapter-item expanded "><a href="../../specs/system-services/hydre.html"><strong aria-hidden="true">8.13.9.</strong> sys::hydre</a></li><li class="chapter-item expanded "><a href="../../specs/system-services/app.html"><strong aria-hidden="true">8.13.10.</strong> sys::app</a></li><li class="chapter-item expanded "><a href="../../specs/system-services/process.html"><strong aria-hidden="true">8.13.11.</strong> sys::process</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../applications/index.html"><strong aria-hidden="true">9.</strong> Applications</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../applications/Astral.html"><strong aria-hidden="true">9.1.</strong> Astral</a></li><li class="chapter-item expanded "><a href="../../applications/BareEnv.html"><strong aria-hidden="true">9.2.</strong> BareEnv</a></li><li class="chapter-item expanded "><a href="../../applications/Blackhole.html"><strong aria-hidden="true">9.3.</strong> Blackhole</a></li><li class="chapter-item expanded "><a href="../../applications/Central.html"><strong aria-hidden="true">9.4.</strong> Central</a></li><li class="chapter-item expanded "><a href="../../applications/Cloudy.html"><strong aria-hidden="true">9.5.</strong> Cloudy</a></li><li class="chapter-item expanded "><a href="../../applications/Comet.html"><strong aria-hidden="true">9.6.</strong> Comet</a></li><li class="chapter-item expanded "><a href="../../applications/Gravity.html"><strong aria-hidden="true">9.7.</strong> Gravity</a></li><li class="chapter-item expanded "><a href="../../applications/Locky.html"><strong aria-hidden="true">9.8.</strong> Locky</a></li><li class="chapter-item expanded "><a href="../../applications/Milkshake.html"><strong aria-hidden="true">9.9.</strong> Milkshake</a></li><li class="chapter-item expanded "><a href="../../applications/Monitor.html"><strong aria-hidden="true">9.10.</strong> Monitor</a></li><li class="chapter-item expanded "><a href="../../applications/Nova.html"><strong aria-hidden="true">9.11.</strong> Nova</a></li><li class="chapter-item expanded "><a href="../../applications/Particle.html"><strong aria-hidden="true">9.12.</strong> Particle</a></li><li class="chapter-item expanded "><a href="../../applications/Pluton.html"><strong aria-hidden="true">9.13.</strong> Pluton</a></li><li class="chapter-item expanded "><a href="../../applications/Postal.html"><strong aria-hidden="true">9.14.</strong> Postal</a></li><li class="chapter-item expanded "><a href="../../applications/Reader.html"><strong aria-hidden="true">9.15.</strong> Reader</a></li><li class="chapter-item expanded "><a href="../../applications/Registry.html"><strong aria-hidden="true">9.16.</strong> Registry</a></li><li class="chapter-item expanded "><a href="../../applications/Rocket.html"><strong aria-hidden="true">9.17.</strong> Rocket</a></li><li class="chapter-item expanded "><a href="../../applications/ShootingStar.html"><strong aria-hidden="true">9.18.</strong> ShootingStar</a></li><li class="chapter-item expanded "><a href="../../applications/Skyer.html"><strong aria-hidden="true">9.19.</strong> Skyer</a></li><li class="chapter-item expanded "><a href="../../applications/Sonata.html"><strong aria-hidden="true">9.20.</strong> Sonata</a></li><li class="chapter-item expanded "><a href="../../applications/Stellar.html"><strong aria-hidden="true">9.21.</strong> Stellar</a></li><li class="chapter-item expanded "><a href="../../applications/Thinker.html"><strong aria-hidden="true">9.22.</strong> Thinker</a></li><li class="chapter-item expanded "><a href="../../applications/TimeTravel.html"><strong aria-hidden="true">9.23.</strong> TimeTravel</a></li><li class="chapter-item expanded "><a href="../../applications/Vortex.html"><strong aria-hidden="true">9.24.</strong> Vortex</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">NightOS documentation</h1>

                    <div class="right-buttons">
                        
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/ClementNerma/NightOS" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="system-calls"><a class="header" href="#system-calls">System calls</a></h1>
<p><em>System calls</em>, abbreviated <em>syscalls</em>, are a type of <a href="kpc.html">KPC</a>. They allow a process to ask the kernel to perform an action.</p>
<ul>
<li><a href="#technical-overview">Technical overview</a></li>
<li><a href="#list-of-syscalls">List of syscalls</a>
<ul>
<li><a href="#0x01-handle_signal"><code>0x01</code> HANDLE_SIGNAL</a></li>
<li><a href="#0x02-unhandle_signal"><code>0x02</code> UNHANDLE_SIGNAL</a></li>
<li><a href="#0x03-is_signal_handled"><code>0x03</code> IS_SIGNAL_HANDLED</a></li>
<li><a href="#0x04-ready"><code>0x04</code> READY</a></li>
<li><a href="#0x20-open_pipe"><code>0x20</code> OPEN_PIPE</a></li>
<li><a href="#0x21-send_pipe"><code>0x21</code> SEND_PIPE</a></li>
<li><a href="#0x22-pipe_write"><code>0x22</code> PIPE_WRITE</a></li>
<li><a href="#0x23-pipe_read"><code>0x23</code> PIPE_READ</a></li>
<li><a href="#0x24-pipe_info"><code>0x24</code> PIPE_INFO</a></li>
<li><a href="#0x25-close_pipe"><code>0x25</code> CLOSE_PIPE</a></li>
<li><a href="#0x26-open_serv_sock"><code>0x26</code> OPEN_SERV_SOCK</a></li>
<li><a href="#0x27-send_sock_msg"><code>0x27</code> SEND_SOCK_MSG</a></li>
<li><a href="#0x28-read_sock_msg"><code>0x28</code> READ_SOCK_MSG</a></li>
<li><a href="#0x29-close_serv_sock"><code>0x29</code> CLOSE_SERV_SOCK</a></li>
<li><a href="#0x2a-connect_service"><code>0x2A</code> CONNECT_SERVICE</a></li>
<li><a href="#0x2b-end_service_conn"><code>0x2B</code> END_SERVICE_CONN</a></li>
<li><a href="#0x2c-accept_service_conn"><code>0x2C</code> ACCEPT_SERVICE_CONN</a></li>
<li><a href="#0x2d-reject_service_conn"><code>0x2D</code> REJECT_SERVICE_CONN</a></li>
<li><a href="#0x2e-has_scoped_service"><code>0x2E</code> HAS_SCOPED_SERVICE</a></li>
<li><a href="#0x30-mem_alloc"><code>0x30</code> MEM_ALLOC</a></li>
<li><a href="#0x31-mem_free"><code>0x31</code> MEM_FREE</a></li>
<li><a href="#0x32-virt_mem_ams"><code>0x32</code> VIRT_MEM_AMS</a></li>
<li><a href="#0x33-backed_ams"><code>0x33</code> BACKED_AMS</a></li>
<li><a href="#0x34-device_ams"><code>0x34</code> DEVICE_AMS</a></li>
<li><a href="#0x35-share_ams"><code>0x35</code> SHARE_AMS</a></li>
<li><a href="#0x36-ams_sharing_info"><code>0x36</code> AMS_SHARING_INFO</a></li>
<li><a href="#0x37-unshare_ams"><code>0x37</code> UNSHARE_AMS</a></li>
<li><a href="#0x38-map_ams"><code>0x38</code> MAP_AMS</a></li>
<li><a href="#0x39-unmap_ams"><code>0x39</code> UNMAP_AMS</a></li>
<li><a href="#0x3a-set_dma_mem_access"><code>0x3A</code> SET_DMA_MEM_ACCESS</a></li>
<li><a href="#0x40-create_process"><code>0x40</code> CREATE_PROCESS</a></li>
<li><a href="#0x41-wait_child_process"><code>0x41</code> WAIT_CHILD_PROCESS</a></li>
<li><a href="#0x42-kill_child_process"><code>0x42</code> KILL_CHILD_PROCESS</a></li>
<li><a href="#0x43-get_pid"><code>0x43</code> GET_PID</a></li>
<li><a href="#0x44-suspend"><code>0x44</code> SUSPEND</a></li>
<li><a href="#0x45-unsuspend"><code>0x45</code> UNSUSPEND</a></li>
<li><a href="#0x46-hand_over"><code>0x46</code> HAND_OVER</a></li>
<li><a href="#0x4f-exit"><code>0x4F</code> EXIT</a></li>
<li><a href="#0x50-create_thread"><code>0x50</code> CREATE_THREAD</a></li>
<li><a href="#0x51-create_tls_slot"><code>0x51</code> CREATE_TLS_SLOT</a></li>
<li><a href="#0x52-read_tls_slot"><code>0x52</code> READ_TLS_SLOT</a></li>
<li><a href="#0x53-write_tls_slot"><code>0x53</code> WRITE_TLS_SLOT</a></li>
<li><a href="#0x54-delete_tls_slot"><code>0x54</code> DELETE_TLS_SLOT</a></li>
<li><a href="#0x5f-exit_thread"><code>0x5F</code> EXIT_THREAD</a></li>
<li><a href="#0xa0-execution_context"><code>0xA0</code> EXECUTION_CONTEXT</a></li>
<li><a href="#0xd0-sys_create_process"><code>0xD0</code> SYS_CREATE_PROCESS</a></li>
<li><a href="#0xd1-sys_manage_process"><code>0xD1</code> SYS_MANAGE_PROCESS</a></li>
<li><a href="#0xd2-sys_process_attributes"><code>0xD2</code> SYS_PROCESS_ATTRIBUTES</a></li>
<li><a href="#0xd4-sys_enum_devices"><code>0xD4</code> SYS_ENUM_DEVICES</a></li>
<li><a href="#0xd5-sys_device_infos"><code>0xD5</code> SYS_DEVICE_INFOS</a></li>
</ul>
</li>
</ul>
<h2 id="technical-overview"><a class="header" href="#technical-overview">Technical overview</a></h2>
<p>Syscalls are performed using CPU interruptions to notify the kernel.</p>
<p>A syscall is made of a 8-bit code, as well as up to 8 arguments with up to 64-bit value each.<br />
When performing a syscall, the process will put in a specific CPU register an address poiting to a memory address containing in a row the syscall's code and its arguments. For most syscalls, code and arguments will be not be longer than 128 bits, but some may use larger arguments.</p>
<p>Some syscalls require the process to send a buffer of data. In such case, the process simply provides a pointer to the said buffer - so the argument's size will vary depending on the length of memory addresses.</p>
<p>After preparing the syscall's code and arguments, the process raises a specific exception that is caught by the kernel. When the syscall is complete, the kernel puts the result values in specific registers and resumes the process. This means that <strong>all syscalls are synchronous</strong>.</p>
<p>System calls always return two numbers: a 8-bit one (errcode) and a 8 bytes one (return value). If the errcode is not null, then an error occured during the syscall. The specific value indicate the encountered type of error:</p>
<ul>
<li><code>0x00</code>: cannot read syscall's code or arguments (error while reading memory)</li>
<li><code>0x01</code>: the requested syscall does not exist</li>
<li><code>0x02</code>: at least one argument is invalid (e.g. providing a pointer to the <code>0</code> address)</li>
<li><code>0x03</code>: unmapped memory pointer (e.g. provided a pointer to a memory location that is not mapped yet)</li>
<li><code>0x04</code>: memory permission error (e.g. provided a writable buffer to an allocated but non-writable memory address)</li>
</ul>
<p>Errors are encoded this way:</p>
<ul>
<li><code>0x00</code> to <code>0x0F</code>: generic errors (see above)</li>
<li><code>0x10</code> to <code>0x1F</code>: invalid arguments provided (e.g. value is too high)</li>
<li><code>0x20</code> to <code>0x2F</code>: arguments are not valid in the current context (e.g. provided ID does not exist)</li>
<li><code>0x30</code> to <code>0x3F</code>: resource errors (e.g. file not found)</li>
<li><code>0x40</code> to <code>0xFF</code>: other types of errors</li>
</ul>
<p>System calls' code are categorized as follows:</p>
<ul>
<li><code>0x00</code> to <code>0x0F</code>: signal handling</li>
<li><code>0x10</code> to <code>0x1F</code>: process management</li>
<li><code>0x20</code> to <code>0x29</code>: pipes</li>
<li><code>0x2A</code> to <code>0x2F</code>: services communication</li>
<li><code>0x30</code> to <code>0x3F</code>: memory management</li>
<li><code>0x40</code> to <code>0x4F</code>: processes management</li>
<li><code>0x50</code> to <code>0x5F</code>: threads management</li>
<li><code>0xA0</code> to <code>0xAF</code>: applications-related syscalls</li>
<li><code>0xD0</code> to <code>0xDF</code>: reserved to system services</li>
</ul>
<p>Note that advanced actions like permissions management or filesystem access are achieved through the use of <a href="ipc.html">IPC</a>.</p>
<h2 id="list-of-syscalls"><a class="header" href="#list-of-syscalls">List of syscalls</a></h2>
<p>You can find below the exhaustive list of system calls.</p>
<h3 id="0x01-handle_signal"><a class="header" href="#0x01-handle_signal"><code>0x01</code> HANDLE_SIGNAL</a></h3>
<p>Register a <a href="signals.html">signal handler</a>.<br />
If the address pointed by this syscall's is not executable by the current process when this signal is sent to the process, the signal will be converted to an <a href="signals.html#0x01-handler_fault"><code>HANDLER_FAULT</code></a> signal instead.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Code of the signal to handle (1 byte)</li>
<li>Pointer to the handler function (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>Empty</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: The requested signal does not exist</li>
</ul>
<h3 id="0x02-unhandle_signal"><a class="header" href="#0x02-unhandle_signal"><code>0x02</code> UNHANDLE_SIGNAL</a></h3>
<p>Unregister a signal handler, falling back to the default signal reception behaviour if this signal is sent to the process.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Code of the signal to stop handling (1 byte)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>Empty</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: The requested signal does not exist</li>
<li><code>0x20</code>: The requested signal does not have an handler</li>
</ul>
<h3 id="0x03-is_signal_handled"><a class="header" href="#0x03-is_signal_handled"><code>0x03</code> IS_SIGNAL_HANDLED</a></h3>
<p>Check if a signal has a registered handler.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Code of the signal (1 byte)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li><code>0</code> if the signal is not handled, <code>1</code> if it is (1 byte)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: The requested signal does not exist</li>
</ul>
<h3 id="0x04-ready"><a class="header" href="#0x04-ready"><code>0x04</code> READY</a></h3>
<p>Indicate the system this process has set up all its event listeners, so it can start dequeuing <a href="signals.html">signals</a>.</p>
<p><strong>NOTE:</strong> When this signal is sent, all queued signals will be treated at once, so the instructions following the sending of this signal may not be ran until quite a bit of time in the worst scenario.</p>
<p><strong>WARNING:</strong> Signals will not be treated until this syscall is sent by the process!</p>
<p><strong>Arguments:</strong></p>
<p><em>None</em></p>
<p><strong>Return value:</strong></p>
<p><em>Empty</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: The process already told it was ready</li>
</ul>
<h3 id="0x20-open_pipe"><a class="header" href="#0x20-open_pipe"><code>0x20</code> OPEN_PIPE</a></h3>
<p>Open a pipe with a process of the same application and running under the same user and get its SC.<br />
The buffer size multiplier indicates the size of the pipe's buffer, multiplied by 64 KB. The default (<code>0</code>) falls back to a size of 64 KB.<br />
The command code can be used to indicate to the target process which action is expected from it. It does not follow any specific format.<br />
The target process will receive the SC/RC's counterpart through the <a href="signals.html#0x20-recv_pipe"><code>RECV_PIPE</code></a> signal, unless notification mode states otherwise.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Target process' PID (8 bytes)</li>
<li>Command code (2 bytes)</li>
<li>Pipe type (1 byte): <code>0x00</code> to create a write pipe, <code>0x01</code> to create a read pipe</li>
<li>Buffer size multiplier (1 byte)</li>
<li>Transmission mode (1 byte): <code>0x00</code> to create a raw pipe, <code>0x01</code> to create a message pipe</li>
<li>Notification mode (1 byte): <code>0x00</code> to notify the process with the <a href="signals.html#0x20-recv_pipe"><code>RECV_PIPE</code></a> signal, <code>0x01</code> to skip it</li>
<li>Size hint in bytes (8 bytes), with <code>0</code> being the 'no size hint' value</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li><a href="ipc.html#pipes">Pipe</a> SC identifier (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Invalid transmission mode provided</li>
<li><code>0x11</code>: Invalid notification mode provided</li>
<li><code>0x20</code>: The provided PID does not exist</li>
<li><code>0x21</code>: The target process is not part of this application</li>
<li><code>0x22</code>: The target process runs under another user</li>
<li><code>0x23</code>: Notification mode is enabled but the target process does not have a handler registered for the <a href="signals.html#0x20-recv_pipe"><code>RECV_PIPE</code></a> signal</li>
</ul>
<h3 id="0x21-send_pipe"><a class="header" href="#0x21-send_pipe"><code>0x21</code> SEND_PIPE</a></h3>
<p>Share an RC or SC identifier with another process.<br />
This will trigger in the target process the <a href="signals.html#0x20-recv_pipe"><code>RECV_PIPE</code></a> signal, unless the notification mode tells otherwise.</p>
<p>When the target process writes through the received SC or read from the received RC, the performance will be equal to writing or reading through the original RC/SC identifier.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><a href="ipc.html#pipes">Pipe</a> RC or SC identifier (8 bytes)</li>
<li>Target PID (8 bytes)</li>
<li>Notification mode (1 byte): <code>0x00</code> to notify the process with a pipe reception signal, <code>0x01</code> to skip the signal</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Notification mode is enabled but the target process does not have a handler registered for the <a href="signals.html#0x20-recv_pipe"><code>RECV_PIPE</code></a> signal</li>
</ul>
<h3 id="0x22-pipe_write"><a class="header" href="#0x22-pipe_write"><code>0x22</code> PIPE_WRITE</a></h3>
<p>Write data through a pipe.<br />
Messages will always be sent at once when writing to message pipes.<br />
If the data is 0-byte long, this pipe will return successfully without waiting, even if the target pipe's buffer is full or locked.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><a href="ipc.html#pipes">Pipe</a> SC identifier (8 bytes)</li>
<li>Number of bytes to write (4 bytes)</li>
<li>Pointer to a readable buffer (8 bytes)</li>
<li>Mode (1 byte): <code>0x00</code> = block until there is enough space to write, <code>0x01</code> = fail if there is not enough space to write or if the pipe is locked, <code>0x02</code> = write as much as possible</li>
</ul>
<p><strong>Return value:</strong></p>
<p>Encoded on 4 bytes:</p>
<ul>
<li>If mode is <code>0x00</code>: remaining capacity of the pipe</li>
<li>If mode is <code>0x01</code>: <code>0x00</code> if the cause of failure was because the pipe was locked, <code>0x01</code> if it was because of of a lack of space in the target buffer</li>
<li>If mode is <code>0x02</code>: number of bytes written</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Invalid mode provided</li>
<li><code>0x20</code>: The provided SC identifier does not exist</li>
<li><code>0x21</code>: The provided SC was already closed</li>
<li><code>0x22</code>: The provided SC refers to a message pipe but the provided size is larger than 64 KB</li>
<li><code>0x23</code>: The provided SC refers to a message pipe but the <code>0x02</code> mode was provided</li>
<li><code>0x30</code>: There is not enough space in the pipe to write all the provided data and the mode argument was set to <code>0x01</code></li>
</ul>
<h3 id="0x23-pipe_read"><a class="header" href="#0x23-pipe_read"><code>0x23</code> PIPE_READ</a></h3>
<p>Read pending data or message from a pipe.<br />
If the pipe was closed while the buffer was not empty, this syscall will still be able to read the remaining buffer's data - but the pipe will not be able to receive any additional data. Then, once the buffer is empty, the pipe will be made unavailable.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><a href="ipc.html#pipes">Pipe</a> RC identifier (8 byte)</li>
<li>Mode (1 byte): <code>0x00</code> = block until there are enough data to read, <code>0x01</code> = fail if there is not enough data to read or if the pipe is locked, <code>0x02</code> = read as much as possible</li>
<li><a href="data-structures.html#buffer-pointers">Readable buffer pointer</a> (16 bytes) (specify <code>0</code> bytes length to read as much data as possible)</li>
</ul>
<p><strong>Return value:</strong></p>
<p>Encoded on 4 bytes:</p>
<ul>
<li>If mode is <code>0x00</code>: remaining bytes in the buffer</li>
<li>If mode is <code>0x01</code>: <code>0x00</code> if the cause of failure was because the pipe was locked, <code>0x01</code> if it was because of of a lack of space in the target buffer</li>
<li>If mode is <code>0x02</code>: number of read bytes</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Invalid mode provided</li>
<li><code>0x20</code>: The provided RC identifier does not exist</li>
<li><code>0x21</code>: The provided RC was already closed</li>
<li><code>0x22</code>: There is no pending data in the pipe and the mode argument was set to <code>0x01</code></li>
<li><code>0x23</code>: The provided RC refers to a message pipe but the <code>0x02</code> mode was provided</li>
</ul>
<h3 id="0x24-pipe_info"><a class="header" href="#0x24-pipe_info"><code>0x24</code> PIPE_INFO</a></h3>
<p>Get informations on a pipe from its RC or SC identifier.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><a href="ipc.html#pipes">Pipe</a> RC or SC identifier (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Status (1 byte):
<ul>
<li>Bit 0 (strongest): indicates if the pipe is opened</li>
<li>Bit 1: indicates if the pipe is a message pipe</li>
<li>Bit 2: indicates if the pipe's buffer is full</li>
<li>Bit 3: indicates if the pipe is locked</li>
<li>Bit 4: indicates if a writing request is pending (waiting for the pipe to be unlocked)</li>
<li>Bit 5: indicates if a reading request is pending (waiting for the pipe to be unlocked)</li>
<li>Bit 6: indicates if the provided identifier is an SC</li>
</ul>
</li>
<li>Pipe's buffer's capacity (8 bytes)</li>
<li>Remaining data before the pipe's buffer is full (8 bytes)</li>
<li>Pipe's creator's PID (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<p><em>None</em></p>
<h3 id="0x25-close_pipe"><a class="header" href="#0x25-close_pipe"><code>0x25</code> CLOSE_PIPE</a></h3>
<p>Close a pipe properly. The RC and SC parts will be immediatly closed.<br />
The other process this pipe was shared with will receive the <a href="signals.html#0x21-pipe_closed"><code>PIPE_CLOSED</code></a> signal unless this pipe was created during a <a href="#0x2c-accept_service_conn">service connection</a>.<br />
If this syscall is not performed on a pipe before the process exits, the other process will receive the same signal with a specific argument to indicate the communication was brutally interrupted.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><a href="ipc.html#pipes">Pipe</a> RC or SC identifier (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: The provided RC/SC identifier does not exist</li>
<li><code>0x11</code>: The target process already terminated</li>
<li><code>0x20</code>: The provided RC/SC identifier is part of a service pipe</li>
</ul>
<h3 id="0x26-open_serv_sock"><a class="header" href="#0x26-open_serv_sock"><code>0x26</code> OPEN_SERV_SOCK</a></h3>
<p>Open a <a href="ipc.html#service-sockets">service socket</a>.<br />
Triggers the <a href="signals.html#0x26-recv_serv_sock"><code>RECV_SERV_SOCK</code></a> signal on the receiver process' side.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Client process PID (8 bytes)</li>
<li>Buffer size multiplier by 4 KB (2 bytes) - <code>0</code> fall backs to 4KB</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Socket identifier (8 bytes)</li>
</ul>
<h3 id="0x27-send_sock_msg"><a class="header" href="#0x27-send_sock_msg"><code>0x27</code> SEND_SOCK_MSG</a></h3>
<p>Send a message through a <a href="ipc.html#exchanges-and-messages">service socket exchange</a>.<br />
This syscall can also be used to create a new exchange.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Socket identifier (8 bytes)</li>
<li>Exchange identifier (8 bytes) - <code>0</code> creates a new exchange</li>
<li>Method or notification code (1 byte) - non-zero value if not creating an exchange to close it with a non-error message</li>
<li>Error code (2 bytes)</li>
<li><a href="data-structures.html#buffer-pointers">Buffer pointer</a> to the message's content (16 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Exchange identifier (8 bytes)</li>
<li>Message counter for this exchange (4 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: Unknown socket identifier</li>
<li><code>0x21</code>: Socket is already closed</li>
<li><code>0x22</code>: Unknown exchange identifier</li>
<li><code>0x23</code>: Exchange has already been concluded</li>
</ul>
<h3 id="0x28-read_sock_msg"><a class="header" href="#0x28-read_sock_msg"><code>0x28</code> READ_SOCK_MSG</a></h3>
<p>Read the pending message of a <a href="ipc.html#service-sockets">service socket</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Socket identifier (8 bytes)</li>
<li>Address of a writable buffer (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Number of written bytes (4 bytes)</li>
<li><code>0x01</code> if a message was retrieved, <code>0x00</code> if none was pending (1 byte)</li>
<li>Status (1 byte):
<ul>
<li>Bit 0: set if this message did create a new exchange</li>
<li>Bit 1: set if this message is an error message</li>
<li>Bit 2: set if this message closed the socket</li>
</ul>
</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: Unknown socket identifier</li>
<li><code>0x21</code>: Socket is already closed</li>
<li><code>0x22</code>: Unknown exchange identifier</li>
<li><code>0x23</code>: Exchange has already been concluded</li>
</ul>
<h3 id="0x29-close_serv_sock"><a class="header" href="#0x29-close_serv_sock"><code>0x29</code> CLOSE_SERV_SOCK</a></h3>
<p>Close a <a href="ipc.html#service-sockets">service socket</a>.<br />
Triggers the <a href="signals.html#0x29-serv_sock_closed"><code>SERV_SOCK_CLOSED</code></a> signal on the receiver process' side.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Socket identifier (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: Unknown socket identifier</li>
<li><code>0x21</code>: Socket is already closed</li>
</ul>
<h3 id="0x2a-connect_service"><a class="header" href="#0x2a-connect_service"><code>0x2A</code> CONNECT_SERVICE</a></h3>
<p>Ask a service to etablish connection. The current process is called the service's <em>client</em>.</p>
<p>If the current process already has an active connection (a connection that hasn't been closed) to the target service, it will fail unless the flexible mode argument is set.</p>
<p><strong>NOTE:</strong> When this signal is sent, the service's answer will be waited, so the instructions following the sending of this signal may not be ran until several seconds in the worst scenario.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Target application's <a href="../applications-libraries.html#application-identifier">ANID</a> (4 bytes)</li>
<li><a href="../services.html#types-of-services">Scope name</a> - filled with zeroes to access the default service (8 bytes)</li>
<li>Command code (2 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Unique connection ID (8 bytes)</li>
<li><a href="ipc.html#service-sockets">Service socket</a> identifier (8 bytes)</li>
<li>Flexible mode (1 byte): <code>0x00</code> by default, <code>0x01</code> returns the existing connection ID if an active connection is already in place with the service instead of failing</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Invalid flexible mode provided</li>
<li><code>0x20</code>: The provided ANID does not exist</li>
<li><code>0x21</code>: Target application does not <a href="../../concepts/applications.html#services">expose the provided service</a></li>
<li><code>0x22</code>: Current process already has an active connection to the target service and flexible mode is not set</li>
<li><code>0x30</code>: Failed to send the <a href="signals.html#0x2a-service_conn_request"><code>SERVICE_CONN_REQUEST</code></a> due to a <a href="signals.html#0x01-handler_fault">double handler fault</a></li>
<li><code>0x31</code>: Service rejected the connection request</li>
</ul>
<h3 id="0x2b-end_service_conn"><a class="header" href="#0x2b-end_service_conn"><code>0x2B</code> END_SERVICE_CONN</a></h3>
<p>Tell a service to properly close the connection. The associated <a href="ipc.html#service-sockets">service socke</a> will immediatly be closed.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Unique connection ID (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: The provided connection ID does not exist</li>
<li><code>0x20</code>: This connection was already closed</li>
<li><code>0x21</code>: The associated service thread already terminated</li>
</ul>
<h3 id="0x2c-accept_service_conn"><a class="header" href="#0x2c-accept_service_conn"><code>0x2C</code> ACCEPT_SERVICE_CONN</a></h3>
<p>Confirm the current service accepts the connection with a client.<br />
A dedicated service socket identifier will be provided to communicate with the client.</p>
<p>This will create a new <a href="../services.html#thread-types">client thread</a> in the current process, which is meant to be dedicated to this specific client.<br />
The client thread will not receive any <a href="signals.html#0x2a-service_conn_request"><code>SERVICE_CONN_REQUEST</code></a> signal, only <a href="../services.html#thread-types">dispatcher thread</a> will.</p>
<p>When the associated client terminates, the <a href="signals.html#0x2b-service_client_closed"><code>SERVICE_CLIENT_CLOSED</code></a> signal is sent to this thread.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Connection's unique request ID (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li><code>0x00</code> if the current process is now the associated client's thread, <code>0x01</code> else</li>
<li><a href="ipc.html#service-sockets">Service socket</a> identifier (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: This request ID does not exist</li>
<li><code>0x20</code>: The process which requested the connection already terminated</li>
<li><code>0x30</code>: Answer was given after the delay set in the <a href="../registry.html">registry</a>'s <code>system.processes.service_answer_delay</code> key (default: 2000ms)</li>
</ul>
<h3 id="0x2d-reject_service_conn"><a class="header" href="#0x2d-reject_service_conn"><code>0x2D</code> REJECT_SERVICE_CONN</a></h3>
<p>Reject a connection request to the current service.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Connection's unique request ID (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: This request ID does not exist</li>
<li><code>0x20</code>: The process which requested the connection already terminated</li>
<li><code>0x30</code>: Answer was given after the delay set in the <a href="../registry.html">registry</a>'s <code>system.processes.service_answer_delay</code> key (default: 2000ms)</li>
</ul>
<h3 id="0x2e-has_scoped_service"><a class="header" href="#0x2e-has_scoped_service"><code>0x2E</code> HAS_SCOPED_SERVICE</a></h3>
<p><strong>Arguments:</strong></p>
<ul>
<li>Target application's <a href="../applications-libraries.html#application-identifier">ANID</a> (4 bytes)</li>
<li><a href="../services.html#types-of-services">Scope name</a> (8 bytes) - fill with zeroes to check the default service</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li><code>0x01</code> if the application has a service for the provided scope, <code>0x00</code> otherwise</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: The provided ANID does not exist</li>
<li><code>0x21</code>: Target application does not <a href="../../concepts/applications.html#services">expose the provided service</a></li>
</ul>
<h3 id="0x30-mem_alloc"><a class="header" href="#0x30-mem_alloc"><code>0x30</code> MEM_ALLOC</a></h3>
<p>Allocate a linear block of memory.</p>
<p><strong>WARNING:</strong> Allocated memory will not be rewritten, thus it may contain non-zero data. Therefore the caller process shall ensure memory is used correctly.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>The number of <a href="memory.html#pages">pages</a> to allocate (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Pointer to the newly-allocated block of memory (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x30</code>: The kernel could not find a linear block of memory of the requested size</li>
</ul>
<h3 id="0x31-mem_free"><a class="header" href="#0x31-mem_free"><code>0x31</code> MEM_FREE</a></h3>
<p>Unallocate a linear block of memory.</p>
<p>Shared memory pages must first be unshared through the <a href="#0x37-unshare_ams"><code>UNSHARE_AMS</code></a> syscall.<br />
Mapped memory pages must be unmapped through the <a href="#0x39-unmap_ams"><code>UNMAP_AMS</code></a> syscall.</p>
<p><strong>WARNING:</strong> Memory will not be zeroed, therefore the caller process shall ensure critical informations are zeroed or randomized before freeing the memory.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Pointer to the start address to unallocate the memory from (8 bytes)</li>
<li>The number of <a href="memory.html#pages">pages</a> to unallocate (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: The provided start address it not aligned with a page</li>
<li><code>0x20</code>: The provided start address is out of the process' range</li>
<li><code>0x21</code>: The provided size, added to the start address, would exceed the process' range</li>
<li><code>0x22</code>: One or more of the provided pages was not allocated (e.g. unmapped page or memory-mapped page)</li>
<li><code>0x23</code>: One or more of the provided pages are shared with another process</li>
</ul>
<h3 id="0x32-virt_mem_ams"><a class="header" href="#0x32-virt_mem_ams"><code>0x32</code> VIRT_MEM_AMS</a></h3>
<p>Create an <a href="memory.html#abstract-memory-segments">abstract memory segment (AMS)</a> from a part of the current process' address space.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Address of the first page to register in the AMS (8 bytes)</li>
<li>Number of bytes to register (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>AMS ID (4 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Start address is unaligned</li>
<li><code>0x11</code>: Number of bytes is unaligned</li>
<li><code>0x22</code>: Address is out of range</li>
</ul>
<h3 id="0x33-backed_ams"><a class="header" href="#0x33-backed_ams"><code>0x33</code> BACKED_AMS</a></h3>
<p>Create an <a href="memory.html#abstract-memory-segments">abstract memory segment (AMS)</a> backed by the <a href="signals.html#0x33-read_backed_ams"><code>READ_BACKED_AMS</code></a> and <a href="signals.html#0x34-write_backed_ams"><code>WRITE_BACKED_AMS</code></a> signals.</p>
<p>Copy-on-write support can be enabled to allow the receiver process to write data in its own memory space. Written pages will be allocated by the kernel and won't be backed anymore by the <a href="signals.html#0x33-read_backed_ams"><code>READ_BACKED_AMS</code></a> signal. The backer process won't be able to see these changes, and the <a href="signals.html#0x34-write_backed_ams"><code>WRITE_BACKEND_AMS</code></a> signal won't be trigerred on its side.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Length of the AMS (8 bytes)</li>
<li>Copy-on-write mode (1 byte): <code>0x00</code> to disable, <code>0x01</code> to enable</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Invalid COW mode provided</li>
<li><code>0x11</code>: Provided length is unaligned</li>
</ul>
<h3 id="0x34-device_ams"><a class="header" href="#0x34-device_ams"><code>0x34</code> DEVICE_AMS</a></h3>
<p>Create an <a href="memory.html#abstract-memory-segments">abstract memory segment (AMS)</a> from a device's memory through <em>Mapped Memory Input/Output</em> (MMIO).</p>
<p>Requires the current process to have the device in its <a href="processes.html#drivable-devices">drivable devices attribute</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><a href="hardware.html#session-device-identifier">SDI</a> of the device to map in memory (4 bytes)</li>
<li>Start address in the device's memory (8 bytes)</li>
<li>Number of bytes to map (8 bytes)</li>
<li>Start address to map in this process' memory (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>AMS ID (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: The mapping's start address is not aligned with a page</li>
<li><code>0x11</code>: The mapping's length is not a multiple of a page's size</li>
<li><code>0x12</code>: The mapping's size is null (0 bytes)</li>
<li><code>0x20</code>: The provided device SDI was not found</li>
<li><code>0x21</code>: The provided device is not compatible with MMIO</li>
<li><code>0x22</code>: This device is not registered in this process' <a href="processes.html#drivable-devices">drivable devices attribute</a></li>
</ul>
<h3 id="0x35-share_ams"><a class="header" href="#0x35-share_ams"><code>0x35</code> SHARE_AMS</a></h3>
<p>Share an <a href="memory.html#abstract-memory-segments">abstract memory segment (AMS)</a> with another process.</p>
<p>This will trigger in the target process the <a href="signals.html#0x35-recv_shared_ams"><code>RECV_SHARED_MEM</code></a> with the provided command code, unless the notification mode states otherwise.</p>
<p>The <em>mutual mode</em> allows both processes to access the memory, with the sharer setting the permissions for the receiver to limit its access. Copy-on-write can also be enabled to allow the receiver process to write data without affecting the sharer process' memory.</p>
<p>The <em>exclusive mode</em> allows, only when sharing AMS <a href="#0x32-virt_mem_ams">made from existing memory pages</a> from its original process, to unmap the original pages from the said process to let the exclusive access to the target process. This is useful when transferring temporarily large chunks of data to another process. Also, access permissions are ignored when using exclusive mode.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Target process' PID (8 bytes)</li>
<li>Command code (2 bytes)</li>
<li>Notification mode (1 byte): <code>0x00</code> to notify the process with the <a href="signals.html#0x35-recv_shared_ams"><code>RECV_SHARED_AMS</code></a> signal, <code>0x01</code> to skip it</li>
<li>Mode (1 byte):
<ul>
<li>Mutual: <code>0 b 0 0 0 0 &lt;1 to enable copy-on-write&gt; &lt;1 to enable read&gt; &lt;1 to enable write&gt; &lt;1 to enable exec&gt;</code></li>
<li>Exclusive: <code>0 b 0 0 0 0 1 0 0 &lt;1 to unmap original pages&gt;</code></li>
</ul>
</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>AMS ID (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Invalid notification mode provided</li>
<li><code>0x11</code>: Invalid mode provided</li>
<li><code>0x12</code>: Access permissions were not set but the sharing mode is set to mutual</li>
<li><code>0x13</code>: Access permissions were provided but the sharing mode is set to exclusive</li>
<li><code>0x14</code>: Invalid exclusive mode provided</li>
<li><code>0x30</code>: There is not enough contiguous space in the receiver process' memory space to map the shared memory</li>
</ul>
<h3 id="0x36-ams_sharing_info"><a class="header" href="#0x36-ams_sharing_info"><code>0x36</code> AMS_SHARING_INFO</a></h3>
<p>Get informations about a <a href="#0x35-share_ams">shared</a> <a href="memory.html#abstract-memory-segments">abstract memory segment (AMS)</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>AMS ID (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Sharer process' PID (8 bytes)</li>
<li>Receiver process' PID (8 bytes)</li>
<li>Sharing mode (1 byte): <code>0x00</code> for mutual mode, <code>0x01</code> for exclusive mode</li>
<li><a href="data-structures.html#buffer-pointers">Pointer</a> to the shared buffer (16 bytes)</li>
<li>Command code (2 bytes)</li>
<li>Access permissions (1 byte): for mutual sharings, strongest bit for read, next for write, next for exec ; for exclusive sharings, <code>0x00</code></li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Unknwon AMS ID provided</li>
</ul>
<h3 id="0x37-unshare_ams"><a class="header" href="#0x37-unshare_ams"><code>0x37</code> UNSHARE_AMS</a></h3>
<p>Stop sharing an <a href="memory.html#abstract-memory-segments">abstract memory segment (AMS)</a> started by <a href="#0x35-share_ams"><code>SHARE_AMS</code></a>. Note that exlusive sharings cannot be unmapped.</p>
<p>This will trigger in the target process the <a href="signals.html#0x37-unshared_ams"><code>UNSHARED_AMS</code></a> signal.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>AMS ID (8 bytes)</li>
<li>PID to stop sharing with (8 bytes) - <code>0</code> to stop sharing with all processes</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Unknown AMS ID provided</li>
<li><code>0x20</code>: Provided AMS ID is exclusive</li>
<li><code>0x21</code>: Provided AMS was not shared with the provided process</li>
</ul>
<h3 id="0x38-map_ams"><a class="header" href="#0x38-map_ams"><code>0x38</code> MAP_AMS</a></h3>
<p>Map an <a href="memory.html#abstract-memory-segments">abstract memory segment (AMS)</a> in the current process' address space.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>AMS ID (8 bytes)</li>
<li>Address to map the AMS from (8 bytes)</li>
<li>Mapped <a href="data-structures.html#buffer-pointers">buffer pointer</a> (16 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Unknown AMS ID provided</li>
<li><code>0x20</code>: Provided mapping address or address+length is out-of-range in the AMS</li>
<li><code>0x21</code>: Provided address to map or address+length is out-of-orange in this process' address space</li>
</ul>
<h3 id="0x39-unmap_ams"><a class="header" href="#0x39-unmap_ams"><code>0x39</code> UNMAP_AMS</a></h3>
<p>Unmap an <a href="memory.html#abstract-memory-segments">abstract memory segment (AMS)</a> from the current process' address space.<br />
If the AMS is mapped at multiple addresses of this process, only one of the mappings will be unmapped by default.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>AMS ID (8 bytes)</li>
<li>Mapping address (8 bytes) - <code>0</code> to unmap from all addresses</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>Empty</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Unknown AMS ID provided</li>
<li><code>0x20</code>: Provided AMS it not mapped at this address</li>
</ul>
<h3 id="0x3a-set_dma_mem_access"><a class="header" href="#0x3a-set_dma_mem_access"><code>0x3A</code> SET_DMA_MEM_ACCESS</a></h3>
<p>Allow or disallow a device to access a range of addresses through <em>Direct Memory Access</em> (DMA) in the current process' address space.</p>
<p>Requires the current process to have the device in its <a href="processes.html#drivable-devices">drivable devices attribute</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><a href="hardware.html#session-device-identifier">SDI</a> of the device to map in memory (4 bytes)</li>
<li>Start address in the current process' address space (8 bytes)</li>
<li>Length (8 bytes)</li>
<li>Authorization (1 byte): <code>0x00</code> to allow the device to use this range, <code>0x01</code> to cancel an authorization</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: The range's start address is not aligned with a page</li>
<li><code>0x11</code>: The range's length is not a multiple of a page's size</li>
<li><code>0x12</code>: The range's size is null (0 bytes)</li>
<li><code>0x20</code>: The provided device SDI was not found</li>
<li><code>0x21</code>: The provided device is not compatible with DMA</li>
<li><code>0x22</code>: This device is not registered in this process' <a href="processes.html#drivable-devices">drivable devices attribute</a></li>
</ul>
<h3 id="0x40-create_process"><a class="header" href="#0x40-create_process"><code>0x40</code> CREATE_PROCESS</a></h3>
<p>Create a child process from the current one. The new process gets a separate memory space.</p>
<p>Communication can be done through <a href="ipc.html">standard IPC</a>.</p>
<p>The initialization data is joined as part of the <a href="../applications/context.html">application's context</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Initialization data (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Child process identifier (8 bytes)</li>
<li>Identity (1 byte): <code>0x00</code> if the current thread is the parent, <code>0x01</code> for the child</li>
<li>Initialization data (8 bytes) - <code>0</code> for the parent</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: The current process is not an application process</li>
<li><code>0x30</code>: Failed to create a new process due to hardware problem (cannot allocate memory, ...)</li>
</ul>
<h3 id="0x41-wait_child_process"><a class="header" href="#0x41-wait_child_process"><code>0x41</code> WAIT_CHILD_PROCESS</a></h3>
<p>Wait for a child process to terminate.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Process identifier (8 bytes)</li>
<li>Timeout in milliseconds (2 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>Empty</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: The provided PID does not exist or does not belong to the current application</li>
</ul>
<h3 id="0x42-kill_child_process"><a class="header" href="#0x42-kill_child_process"><code>0x42</code> KILL_CHILD_PROCESS</a></h3>
<p>Kill a child process, which will first receive the <a href="signals.html#0x4f-will_terminate"><code>WILL_TERMINATE</code></a> signal.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Process identifier (8 bytes)</li>
<li>Timeout in milliseconds (2 bytes) - if <code>0</code>, will use the system's global default value (<a href="../registry.html">registry's</a> <code>system.processes.terminate_delay</code>)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Process' exit data (provided through <a href="#0x4f-exit"><code>EXIT_PROCESS</code></a>, <code>0</code> otherwise)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x30</code>: Failed to create a new process due to hardware problem (cannot allocate memory, ...)</li>
</ul>
<h3 id="0x43-get_pid"><a class="header" href="#0x43-get_pid"><code>0x43</code> GET_PID</a></h3>
<p>Get the current process' PID.</p>
<p><strong>Arguments:</strong></p>
<p><em>None</em></p>
<p><strong>Return value:</strong></p>
<ul>
<li>Current process' PID (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<p><em>None</em></p>
<h3 id="0x44-suspend"><a class="header" href="#0x44-suspend"><code>0x44</code> SUSPEND</a></h3>
<p><a href="../../features/balancer.html#application-processes-suspension">Suspend</a> the current process or a child process.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>PID to suspend (8 bytes) - <code>0</code> for the current process</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Amount of time the process was suspended, in milliseconds (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: the current process is not an application process</li>
<li><code>0x21</code>: the current PID was not found or is not a child of the current process</li>
</ul>
<h3 id="0x45-unsuspend"><a class="header" href="#0x45-unsuspend"><code>0x45</code> UNSUSPEND</a></h3>
<p><a href="../../features/balancer.html#application-processes-suspension">Unsuspend</a> a child process.</p>
<p>Will trigger the <a href="signals.html#0x46-unsuspended"><code>UNSUSPENDED</code></a> signal on the child process' side.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>PID to unsuspend (8 bytes) - <code>0</code> for the current process</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Amount of time the process was suspended, in milliseconds (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: the current process is not an application process</li>
<li><code>0x21</code>: the current PID was not found or is not a child of the current process</li>
</ul>
<h3 id="0x46-hand_over"><a class="header" href="#0x46-hand_over"><code>0x46</code> HAND_OVER</a></h3>
<p>End this process' <a href="scheduling.html#cycles-and-context-switching">cycle</a>.</p>
<p>Used to indicate to the kernel the current process has no additional work to do for now (e.g. waiting for asynchronous I/O data).</p>
<p><strong>Arguments:</strong></p>
<p><em>None</em></p>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<p><em>None</em></p>
<h3 id="0x4f-exit"><a class="header" href="#0x4f-exit"><code>0x4F</code> EXIT</a></h3>
<p>Kill the current process.</p>
<p>A <a href="signals.html#0x2b-service_client_closed"><code>SERVICE_CLIENT_CLOSED</code></a> signal is sent to all services connection the process has.<br />
If the current process is a service, a <a href="signals.html#0x2d-service_server_quitted"><code>SERVICE_SERVER_QUITTED</code></a> signal is sent to all active clients.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Exit data (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em> (never returns)</p>
<p><strong>Errors:</strong></p>
<p><em>None</em></p>
<h3 id="0x50-create_thread"><a class="header" href="#0x50-create_thread"><code>0x50</code> CREATE_THREAD</a></h3>
<p>Create a thread from the current one. The new thread will share the current one's memory space.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Initialization data (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Child thread identifier (8 bytes)</li>
<li>Identity (1 byte): <code>0x00</code> if the current thread is the parent, <code>0x01</code> for the child</li>
<li>Initialization data (8 bytes) - <code>0</code> for the parent</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x30</code>: Failed to create a new process due to hardware problem (cannot allocate memory, ...)</li>
</ul>
<h3 id="0x51-create_tls_slot"><a class="header" href="#0x51-create_tls_slot"><code>0x51</code> CREATE_TLS_SLOT</a></h3>
<p>Create a <a href="../../technical/processes.html#thread-local-storage">TLS slot</a>.</p>
<p><strong>Arguments:</strong></p>
<p><em>None</em></p>
<p><strong>Return value:</strong></p>
<ul>
<li>TLS slot identifier (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<p><em>None</em></p>
<h3 id="0x52-read_tls_slot"><a class="header" href="#0x52-read_tls_slot"><code>0x52</code> READ_TLS_SLOT</a></h3>
<p>Read from a <a href="../../technical/processes.html#thread-local-storage">TLS slot</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>TLS slot identifier (8 bytes)</li>
<li><a href="data-structures.html#buffer-pointers">Writable buffer</a> (16 bytes) (specify <code>0</code> bytes length to read the entire data at once)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Number of bytes written (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: Unknown TLS identifier</li>
</ul>
<h3 id="0x53-write_tls_slot"><a class="header" href="#0x53-write_tls_slot"><code>0x53</code> WRITE_TLS_SLOT</a></h3>
<p>Write to a <a href="../../technical/processes.html#thread-local-storage">TLS slot</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>TLS slot identifier (8 bytes)</li>
<li><a href="data-structures.html#buffer-pointers">Readable buffer</a> (16 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: Unknown TLS identifier</li>
<li><code>0x30</code>: Failed to allocate enough memory for the written data</li>
</ul>
<h3 id="0x54-delete_tls_slot"><a class="header" href="#0x54-delete_tls_slot"><code>0x54</code> DELETE_TLS_SLOT</a></h3>
<p>Delete a <a href="../../technical/processes.html#thread-local-storage">TLS slot</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>TLS slot identifier (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: Unknown TLS identifier</li>
</ul>
<h3 id="0x5f-exit_thread"><a class="header" href="#0x5f-exit_thread"><code>0x5F</code> EXIT_THREAD</a></h3>
<p>Kill the current thread and all of its children threads.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Exit data (4 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em> (never returns)</p>
<p><strong>Errors:</strong></p>
<p><em>None</em></p>
<h3 id="0xa0-execution_context"><a class="header" href="#0xa0-execution_context"><code>0xA0</code> EXECUTION_CONTEXT</a></h3>
<p>Get informations from the application's <a href="../applications/context.html">execution context</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>
<p>Information to get (1 byte):</p>
<ul>
<li><code>0x00</code>: all the context</li>
<li><code>0x01</code>: startup reason</li>
<li><code>0x02</code>: context header</li>
<li><code>0x03</code>: command-line arguments</li>
</ul>
</li>
<li>
<p>Pointer to a writable buffer (8 bytes)</p>
</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Number of written bytes (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: invalid information number provided</li>
<li><code>0x20</code>: caller process is a system service</li>
</ul>
<h3 id="0xd0-sys_create_process"><a class="header" href="#0xd0-sys_create_process"><code>0xD0</code> SYS_CREATE_PROCESS</a></h3>
<p>Syscall resserved to the <a href="../system-services/process.html"><code>sys::process</code></a> service.</p>
<p>Create a <a href="processes.html#types-of-processes">userland process</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>Code location token from the <a href="../system-services/fs.html"><code>sys::fs</code></a> service</li>
<li><a href="../applications/context.html">Application context</a></li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li><a href="processes.html#process-identifier">PID</a> (8 bytes)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: Caller process is not the <a href="../system-services/process.html"><code>sys::process</code></a> service</li>
<li><code>0x30</code>: Code location token was not accepted by the <a href="../system-services/fs.html"><code>sys::fs</code></a></li>
<li><code>0x31</code>: Application context is not valid</li>
</ul>
<h3 id="0xd1-sys_manage_process"><a class="header" href="#0xd1-sys_manage_process"><code>0xD1</code> SYS_MANAGE_PROCESS</a></h3>
<p>Syscall resserved to the <a href="../system-services/process.html"><code>sys::process</code></a> service.</p>
<p>Manage a <a href="processes.html#types-of-processes">userland process</a>.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><a href="processes.html#process-identifier">PID</a> (8 bytes)</li>
<li>Action (1 byte):
<ul>
<li><code>0x01</code>: <a href="signals.html#0x44-suspend">Ask for suspension</a></li>
<li><code>0x02</code>: <a href="signals.html#0x45-will_suspend">Force suspension</a></li>
<li><code>0x03</code>: <a href="signals.html#0x46-unsuspended">Unsuspend</a></li>
<li><code>0x04</code>: <a href="signals.html#0x4e-terminate">Ask for termination</a></li>
<li><code>0x05</code>: <a href="signals.html#0x4f-will_terminate">Force termination</a></li>
</ul>
</li>
</ul>
<p><strong>Return value:</strong></p>
<p><em>None</em></p>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Invalid action code provided</li>
<li><code>0x20</code>: Caller process is not the <a href="../system-services/process.html"><code>sys::process</code></a> service</li>
<li><code>0x21</code>: Unknown PID</li>
<li><code>0x22</code>: Process is already in the requested state</li>
</ul>
<h3 id="0xd2-sys_process_attributes"><a class="header" href="#0xd2-sys_process_attributes"><code>0xD2</code> SYS_PROCESS_ATTRIBUTES</a></h3>
<p>Syscall resserved to the <a href="../system-services/process.html"><code>sys::process</code></a> service.</p>
<p>Manage a process' <a href="processes.html#process-attributes">attributes</a>.</p>
<p><strong>Arguments:</strong></p>
<p><em>For value-based attributes:</em></p>
<ul>
<li>
<p>Attribute code (1 byte):</p>
<ul>
<li><code>0x00</code>: PID</li>
<li><code>0x01</code>: Process' priority</li>
<li><code>0x02</code>: Running user's ID</li>
<li><code>0x03</code>: Parent application ID</li>
<li><code>0x04</code>: Execution context (startup reason)</li>
<li><code>0x05</code>: Execution context (header)</li>
<li><code>0x06</code>: Execution context (arguments)</li>
</ul>
</li>
<li>
<p>Action code:</p>
<ul>
<li><code>0x00</code>: Read the information (followed by a <a href="data-structures.html#buffer-pointers">writable buffer</a> on 16 bytes)</li>
<li><code>0x01</code>: Write the information (followed by a <a href="data-structures.html#buffer-pointers">readable buffer</a> on 16 bytes)</li>
</ul>
</li>
</ul>
<p><em>For list-based attributes:</em></p>
<ul>
<li>
<p>Attribute code (1 byte):</p>
<ul>
<li><code>0x00</code>: Memory mappings</li>
<li><code>0x01</code>: Permissions</li>
<li><code>0x02</code>: Drivable devices</li>
</ul>
</li>
<li>
<p>Action code (1 byte) followed by its optional arguments:</p>
<ul>
<li><code>0x00</code>: Get the number of elements</li>
<li><code>0x01</code>: Get the value at a given index =&gt; index (4 bytes)</li>
<li><code>0x02</code>: Update the value at a given index =&gt; index (4 bytes) + value (? bytes)</li>
<li><code>0x03</code>: Insert a value at a given index =&gt; index (4 bytes) + value (? bytes)</li>
<li><code>0x04</code>: Push a value at the end of the list =&gt; value (? bytes)</li>
<li><code>0x05</code>: Remove a value from the list =&gt; index (4 bytes)</li>
<li><code>0x06</code>: Remove the last value from the list</li>
<li><code>0x10</code>: Check if the list contains a given item =&gt; value to look for (? bytes)</li>
</ul>
</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Number of written bytes (if applies) (8 bytes)</li>
<li><code>0x00</code> is all data was written, <code>0x01</code> otherwise (1 byte)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Invalid action code provided</li>
<li><code>0x11</code>: Invalid attribute number provided</li>
<li><code>0x20</code>: Caller process is not the <a href="../system-services/process.html"><code>sys::process</code></a> service</li>
<li><code>0x21</code>: This system service is not allowed to access or edit this attribute</li>
<li><code>0x22</code>: Provided index is out-of-bounds</li>
</ul>
<h3 id="0xd4-sys_enum_devices"><a class="header" href="#0xd4-sys_enum_devices"><code>0xD4</code> SYS_ENUM_DEVICES</a></h3>
<p>Syscall resserved to the <a href="../system-services/hw.html"><code>sys::hw</code></a> service.</p>
<p>List devices matching a provided CII.</p>
<p>For each device, its SDI (4 bytes) is written to the provided address.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><a href="hardware.html#connection-interface-identifier">CII</a> of the devices to list (4 bytes)
<code>0</code> will list all devices</li>
<li><a href="data-structures.html#buffer-pointers">Writable buffer</a> (16 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Number of devices found with the provided criterias (4 bytes)</li>
<li><code>0x00</code> is all devices were written, <code>0x01</code> otherwise (1 byte)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x10</code>: Invalid connection type in CII</li>
<li><code>0x20</code>: Caller process is not the <a href="../system-services/hw.html"><code>sys::hw</code></a> service</li>
</ul>
<h3 id="0xd5-sys_device_infos"><a class="header" href="#0xd5-sys_device_infos"><code>0xD5</code> SYS_DEVICE_INFOS</a></h3>
<p>Syscall resserved to the <a href="../system-services/hw.html"><code>sys::hw</code></a> service.</p>
<p>Get the <a href="hardware.html#raw-device-descriptor">raw device descriptor</a> of a single device.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><a href="hardware.html#session-device-identifier">SDI</a> of the device to get informations from (4 bytes)</li>
<li>Address to a writable buffer (8 bytes)</li>
</ul>
<p><strong>Return value:</strong></p>
<ul>
<li>Number of written bytes (1 byte)</li>
</ul>
<p><strong>Errors:</strong></p>
<ul>
<li><code>0x20</code>: Caller process is not the <a href="../system-services/hw.html"><code>sys::hw</code></a> service</li>
<li><code>0x21</code>: No device was found with this SDI</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../specs/kernel/signals.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../specs/integration-services/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../../specs/kernel/signals.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../../specs/integration-services/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
